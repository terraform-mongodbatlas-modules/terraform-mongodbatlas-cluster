# SDLC Sync Configuration
# See contributing/sdlc-sync.md for documentation on how this sync mechanism works
name: sdlc
src_repo_url: https://github.com/terraform-mongodbatlas-modules/terraform-mongodbatlas-cluster
paths:
  # Python tooling - explicit folders (avoid .venv)
  - src_path: .github/changelog/*.py
  - src_path: .github/changelog/*.txt
    sync_mode: replace
  - src_path: .github/changelog/*.tmpl
    sync_mode: replace
  - src_path: .github/changelog/check-changelog-entry-file/*.go
  - src_path: .github/changelog/check-changelog-entry-file/go.mod
    sync_mode: replace
  - src_path: .github/changelog/check-changelog-entry-file/go.sum
    sync_mode: replace
  - src_path: .github/docs/
  - src_path: .github/release/
  - src_path: .github/pyproject.toml
  - src_path: .github/uv.lock
  - src_path: .github/workspace/
  - src_path: .github/dev/__init__.py
  - src_path: .github/dev/test_compat.py
  # NOTE: dev_vars.py is NOT synced - it has module-specific workspace paths
  # Workflows & actions
  - src_path: .github/workflows/
    exclude_file_patterns:
    - cleanup-test-env.yml
    - dev-integration-test.yml
    - pre-release-tests.yml
  - src_path: workflows_destination/sdlc_validate.yaml
    dest_path: .github/workflows/sdlc-validate.yml
  - src_path: .github/actions/
  # Contributing guides
  - src_path: contributing/sdlc-sync.md
  - src_path: contributing/changelog-process.md
  - src_path: contributing/documentation-guide.md
  - src_path: contributing/README.md
  - src_path: CONTRIBUTING.md
    sync_mode: scaffold
  # GitHub config
  - src_path: .github/CODEOWNERS
  - src_path: .github/pull_request_template.md
  - src_path: .github/ISSUE_TEMPLATE/
  # Justfile with sections
  - src_path: justfile
  - src_path: .pre-commit-config.yaml
  # Terraform docs & config
  - src_path: .terraform-docs.yml
  - src_path: .terraform-versions.yaml
destinations:
  - name: azure
    repo_url: https://github.com/terraform-mongodbatlas-modules/terraform-mongodbatlas-atlas-azure
    dest_path_relative: ../azure
    default_branch: main
